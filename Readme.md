1. **高质量筛选脚本**
    - 利用 Toucan 内置评分（completeness、desired_tools_used 等）做硬过滤，再加自定义规则（轨迹长度、工具覆盖）。
    - 保留一小部分“失败样本”供后续错误恢复节点使用。
2. **节点分类 + HAS 生成**
    - 先用简单规则或小模型给节点打标签（规划、工具调用、总结、异常）。
    - 对每类节点使用对应 DeepSeek prompt，在上下文里注明原动作与评分标准，生成 2~3 个候选（含负向示例）。
    - 加入相似度/去重检查，避免候选内容过于雷同。
3. **多评估器质量打分**
    - 用 GPT + Gemini 并行评分，保留解释和原始得分，取平均或偏保守值。
    - 记录 prompt 版本与得分变化，方便迭代调优。
4. **结构与合法性校验**
    - 对生成的工具调用 JSON 运行 Schema 校验，确保格式可用。
    - 自动剔除明显异常（字段缺失、非法参数）并回灌到生成阶段修复。
5. **穿刺验证与小规模试训**
    - 每批数据随机抽样做人审，验证评分一致性。
    - 选部分节点喂入小规模 RL/IFT，观察 loss 或奖励趋势，确认数据确实有增益。